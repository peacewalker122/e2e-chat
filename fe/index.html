<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Peer ID Page</title>
</head>

<body>
  <h1>Enter Peer ID</h1>
  <h2 id="user-facade"></h2>
  <input id="peerIdInput" type="text" placeholder="Peer ID" />
  <button id="connectBtn">Connect</button>

  <script>
    const userId = crypto.randomUUID();
    const userFacade = document.getElementById('user-facade');
    userFacade.textContent = `Your User ID: ${userId}`;

    const connectBtn = document.getElementById('connectBtn');
    connectBtn.addEventListener('click', () => {
      const peerId = document.getElementById('peerIdInput').value.trim();
      if (peerId) {
        // Navigate to the chat page, passing the peer ID as a query param
        window.location.href = `chat.html?peerId=${encodeURIComponent(peerId)}&userId=${userId}`;
      } else {
        alert('Please enter a valid Peer ID.');
      }
    });
  </script>
</body>

</html>
